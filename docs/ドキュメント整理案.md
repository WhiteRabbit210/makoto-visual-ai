# ドキュメント整理案

## 目次
1. [現状の問題点](#現状の問題点)
2. [整理方針](#整理方針)
3. [新しいディレクトリ構造案](#新しいディレクトリ構造案)
4. [移動・統合が必要なドキュメント](#移動統合が必要なドキュメント)
5. [新規作成が必要なドキュメント](#新規作成が必要なドキュメント)
6. [実施手順](#実施手順)

## 現状の問題点

### 1. 構造の問題
- ドキュメントが複数の階層に分散している
- APIフォルダと仕様書フォルダで重複がある
- 英語名と日本語名が混在（CLAUDE.mdの指示に反する）

### 2. 整合性の問題
- 古いドキュメント（Oldフォルダ）と新しいドキュメントが混在
- 型定義が仕様書/型定義に集約されているが、実装と乖離している可能性
- 更新されていないドキュメントがある

### 3. アクセシビリティの問題
- トップレベルのREADME.mdがない
- ナビゲーションが困難
- 関連ドキュメント間のリンクが不足

## 整理方針

### 基本方針（CLAUDE.mdに基づく）
1. **日本語名を優先**: ドキュメント類は日本語名をつける
2. **目次の充実**: 各ドキュメントに目次を作成
3. **階層的構造**: 読みやすい階層構造を維持
4. **実装との整合性**: 実際のコードと一致させる

### 整理の優先順位
1. **高優先度**: 仕様書、API定義、型定義
2. **中優先度**: UI仕様、設計書
3. **低優先度**: 計画書、古いドキュメント

## 新しいディレクトリ構造案

```
docs/
├── README.md                       # プロジェクト全体の案内
├── 開発ガイド.md                    # 開発者向けクイックスタート
│
├── 01_仕様書/                      # 機能仕様書
│   ├── README.md                  # 仕様書一覧と概要
│   ├── チャット機能/
│   │   ├── チャット仕様書.md
│   │   ├── メッセージ保存仕様.md
│   │   └── ページネーション仕様.md
│   ├── エージェント機能/
│   │   ├── エージェント仕様書.md
│   │   └── チェイン仕様書.md
│   ├── タスク管理機能/
│   │   └── タスク仕様書.md
│   ├── ライブラリ機能/
│   │   └── ライブラリ仕様書.md
│   ├── データ管理/
│   │   ├── データ保存仕様書.md
│   │   └── KVM連携仕様.md
│   └── 認証認可/
│       └── 認証API仕様.md
│
├── 02_API仕様/                     # API定義
│   ├── README.md                  # API一覧とエンドポイント
│   ├── チャットAPI.md
│   ├── エージェントAPI.md
│   ├── タスク管理API.md
│   ├── ライブラリAPI.md
│   ├── 画像生成API.md
│   ├── WebクロールAPI.md
│   └── SSE通信仕様.md
│
├── 03_型定義/                      # TypeScript/Python型定義
│   ├── README.md                  # 型定義の使い方
│   ├── 共通型定義.md
│   ├── API型定義/
│   │   ├── チャットAPI型.md
│   │   ├── エージェントAPI型.md
│   │   └── ...
│   └── エンティティ型定義/
│       ├── ユーザー型.md
│       ├── メッセージ型.md
│       └── ...
│
├── 04_アーキテクチャ/              # システム設計
│   ├── README.md
│   ├── システム全体構成.md
│   ├── SaaS基盤設計.md
│   ├── マルチテナント設計.md
│   ├── データベース設計.md
│   ├── ストレージ設計.md
│   └── クラウド構成/
│       ├── AWS構成.md
│       ├── Azure構成.md
│       └── デプロイメント.md
│
├── 05_UI仕様/                      # 画面仕様
│   ├── README.md
│   ├── デザインシステム.md
│   ├── チャット画面.md
│   ├── タスク管理画面.md
│   ├── ライブラリ画面.md
│   └── コンポーネント仕様.md
│
├── 06_実装ガイド/                  # 実装詳細
│   ├── README.md
│   ├── バックエンド/
│   │   ├── FastAPI実装.md
│   │   ├── サービス層実装.md
│   │   └── バッチ処理実装.md
│   ├── フロントエンド/
│   │   ├── React実装.md
│   │   └── 状態管理.md
│   └── インフラ/
│       ├── Lambda実装.md
│       ├── AzureFunctions実装.md
│       └── CI_CD設定.md
│
├── 07_運用ガイド/                  # 運用・保守
│   ├── README.md
│   ├── デプロイ手順/
│   │   ├── AWS_Lambda.md
│   │   └── Azure_Functions.md
│   ├── モニタリング.md
│   ├── トラブルシューティング.md
│   └── メンテナンス.md
│
├── 08_テスト/                      # テスト関連
│   ├── README.md
│   ├── テスト計画.md
│   ├── テスト結果/
│   │   ├── バックエンドテスト結果.md
│   │   └── フロントエンドテスト結果.md
│   └── テストケース.md
│
└── 99_アーカイブ/                  # 古いドキュメント
    └── （現在のOldフォルダの内容）
```

## 移動・統合が必要なドキュメント

### 1. 重複の解消
- `API/チャットAPI仕様.md` と `仕様書/チャット仕様書.md` → 統合
- `API/エージェントAPI仕様.md` と `仕様書/エージェント仕様書.md` → 統合

### 2. 移動が必要
- `Azure_OpenAI統合設計書.md` → `04_アーキテクチャ/クラウド構成/`
- `SaaS基盤アーキテクチャ設計書.md` → `04_アーキテクチャ/`
- `認証認可設計書.md` → `04_アーキテクチャ/`

### 3. 名前変更が必要（日本語化）
- `API/README.md` → `API/API一覧.md`
- `UI/README.md` → `UI/UI仕様一覧.md`
- `Old/` → `99_アーカイブ/`

## 新規作成が必要なドキュメント

### 1. トップレベルREADME.md
```markdown
# MAKOTO Visual AI ドキュメント

## プロジェクト概要
MAKOTO Visual AIは、マルチテナント対応のAIアシスタントSaaSプラットフォームです。

## ドキュメント構成
- [01_仕様書](01_仕様書/) - 機能仕様
- [02_API仕様](02_API仕様/) - API定義
- [03_型定義](03_型定義/) - 型定義
- [04_アーキテクチャ](04_アーキテクチャ/) - システム設計
- [05_UI仕様](05_UI仕様/) - 画面仕様
- [06_実装ガイド](06_実装ガイド/) - 実装詳細
- [07_運用ガイド](07_運用ガイド/) - 運用手順
- [08_テスト](08_テスト/) - テスト関連

## クイックスタート
- [開発環境構築](開発ガイド.md#開発環境構築)
- [ローカル実行](開発ガイド.md#ローカル実行)
- [デプロイ](07_運用ガイド/デプロイ手順/)
```

### 2. 開発ガイド.md
- 開発環境のセットアップ
- ローカルでの実行方法
- 開発フロー
- コーディング規約

### 3. 各フォルダのREADME.md
- そのフォルダ内のドキュメント一覧
- 各ドキュメントの概要説明
- 関連リンク

## 実施手順

### Phase 1: 準備（修正不要）
1. このドキュメント整理案.mdの作成（完了）
2. 新しいディレクトリ構造の作成

### Phase 2: 移動と整理
1. 新しいディレクトリを作成
2. 既存ドキュメントを適切な場所に移動
3. 重複ドキュメントの統合
4. 日本語名への変更

### Phase 3: 新規作成
1. 各フォルダのREADME.md作成
2. トップレベルREADME.md作成
3. 開発ガイド.md作成

### Phase 4: リンク更新
1. ドキュメント間のリンク修正
2. 目次の作成・更新
3. 相互参照の確認

### Phase 5: 検証
1. すべてのリンクが正しく動作することを確認
2. ドキュメントの整合性チェック
3. 実装との一致確認

## 注意事項

### プログラムは変更しない
- この整理はドキュメントのみ
- コードの変更は行わない
- 実装に関する修正案は別途記載

### CLAUDE.mdの遵守
- 日本語名を優先
- 目次を必ず作成
- 階層的な構造を維持

### 段階的な実施
- 一度にすべてを変更せず、段階的に実施
- 重要なドキュメントから優先的に整理
- バックアップを取ってから実施

---

**作成者**: Claude  
**作成日**: 2025年8月12日  
**ステータス**: 提案段階